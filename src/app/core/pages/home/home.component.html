<div class="products">
    <!-- бокова панель з категоріями товарів, додатками, соцмережами, інформацією про компанію -->
    <app-aside
        [data]="data"
        [full]="true">
    </app-aside>
    <main class="products__list prodlist">
        <app-cart-notification></app-cart-notification>
        <!-- <img
            src="https://res.cloudinary.com/dw60kllwn/image/upload/v1697355535/slide1_jutdqd.webp"
            alt=""
            srcset="
                https://res.cloudinary.com/dw60kllwn/image/upload/w_340,h_228/v1697355535/slide1_jutdqd.webp    376w,
                https://res.cloudinary.com/dw60kllwn/image/upload/w_390,h_130/v1697355535/slide1_jutdqd.webp    430w,
                https://res.cloudinary.com/dw60kllwn/image/upload/w_700,h_235/v1697355535/slide1_jutdqd.webp    770w,
                https://res.cloudinary.com/dw60kllwn/image/upload/w_1270,h_400/v1697355535/slide1_jutdqd.webp   1400w
            " /> -->

        <app-carousel
            class="custom-carousel"
            [autoSlidesOpening]="true"
            [slidesArr]="slides">
        </app-carousel>
        <!-- адаптив: список категорій при версії планшету -->
        <div class="categories-mini">
            <h2 class="categories-mini__title">Каталог товарів</h2>
            <ul class="categories-mini__list">
                <li
                    *ngFor="let product of data"
                    class="categories-mini__item">
                    <mat-icon class="categories-mini__icon">{{
                        product.icon
                    }}</mat-icon>
                    <a routerLink="{{ product.engName + '/' + product.id }}">
                        {{ product.name }}
                    </a>
                    <mat-icon class="categories-mini__icon">
                        chevron_right
                    </mat-icon>
                </li>
            </ul>
        </div>
        <!-- адаптив: список категорій при версії мобільного телефону -->
        <button
            class="btn categories-btn btn-green"
            (click)="modalService.openDialog('product')"
            aria-label="Відкрити каталог товарів">
            <mat-icon class="categories-btn__icon"> dashboard </mat-icon>
            Каталог товарів
        </button>
        <!-- картки -->
        <ng-container
            *ngIf="
                productService.newProds && productService.newProds.length > 0;
                else skeleton
            ">
            <app-cards
                [data]="{
                    category: 'Гарячі новинки',
                    products: productService.newProds
                }">
            </app-cards>
        </ng-container>
        <ng-template #skeleton>
            <div class="skeleton">
                <p class="skeletonProds__title">&nbsp;</p>
                <ul class="skeletonProds">
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                </ul>
            </div>
        </ng-template>
        <ng-container
            *ngIf="
                productService.moreProds && productService.moreProds.length > 0;
                else skeletonMoreProds
            ">
            <app-cards
                [data]="{
                    category: 'Більше товарів для вибору',
                    products: productService.moreProds
                }">
            </app-cards>
        </ng-container>
        <ng-template #skeletonMoreProds>
            <div class="skeleton">
                <p class="skeletonProds__title">&nbsp;</p>
                <ul class="skeletonProds">
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                </ul>
            </div>
        </ng-template>
        <ng-container
            *ngIf="
                productService.recommendedProds &&
                    productService.recommendedProds.length > 0;
                else skeletonRecommendedProds
            ">
            <app-cards
                [data]="{
                    category: 'Рекомендовані',
                    products: productService.recommendedProds
                }">
            </app-cards>
        </ng-container>
        <ng-template #skeletonRecommendedProds>
            <div class="skeleton">
                <p class="skeletonProds__title">&nbsp;</p>
                <ul class="skeletonProds">
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                    <li class="skeletonProds__item">&nbsp;</li>
                </ul>
            </div>
        </ng-template>

        <app-video-cards></app-video-cards>
    </main>
</div>
